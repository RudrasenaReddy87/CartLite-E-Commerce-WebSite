{"ast":null,"code":"import _objectSpread from\"C:/Users/brudr/Desktop/anon-ecommerce-website-master/CartLite-E-Commerce-WebSite/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const UserContext=/*#__PURE__*/createContext();// User reducer\nconst userReducer=(state,action)=>{switch(action.type){case'SET_USER':return _objectSpread(_objectSpread({},state),{},{user:action.payload,isAuthenticated:!!action.payload});case'LOGOUT':return _objectSpread(_objectSpread({},state),{},{user:null,isAuthenticated:false});case'SHOW_MODAL':return _objectSpread(_objectSpread({},state),{},{modal:{isOpen:true,type:action.payload.type,data:action.payload.data||null}});case'HIDE_MODAL':return _objectSpread(_objectSpread({},state),{},{modal:{isOpen:false,type:null,data:null}});case'SHOW_TOAST':return _objectSpread(_objectSpread({},state),{},{toast:{isOpen:true,message:action.payload.message,type:action.payload.type||'info'}});case'HIDE_TOAST':return _objectSpread(_objectSpread({},state),{},{toast:{isOpen:false,message:'',type:'info'}});case'TOGGLE_MOBILE_MENU':return _objectSpread(_objectSpread({},state),{},{mobileMenu:{isOpen:!state.mobileMenu.isOpen}});case'CLOSE_MOBILE_MENU':return _objectSpread(_objectSpread({},state),{},{mobileMenu:{isOpen:false}});case'SHOW_NEWSLETTER_POPUP':return _objectSpread(_objectSpread({},state),{},{newsletterPopup:{isOpen:true},animationReset:0});case'HIDE_NEWSLETTER_POPUP':return _objectSpread(_objectSpread({},state),{},{newsletterPopup:{isOpen:false}});case'RESET_ANIMATION':return _objectSpread(_objectSpread({},state),{},{animationReset:state.animationReset+1});default:return state;}};// Initial state\nconst initialState={user:null,isAuthenticated:false,modal:{isOpen:false,type:null,data:null},toast:{isOpen:false,message:'',type:'info'},mobileMenu:{isOpen:false},newsletterPopup:{isOpen:false},animationReset:0};export const UserProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(userReducer,initialState);// Check if newsletter has been shown before\nuseEffect(()=>{const hasSeenNewsletter=localStorage.getItem('hasSeenNewsletter');if(!hasSeenNewsletter){// Show newsletter popup after a delay\nconst timer=setTimeout(()=>{dispatch({type:'SHOW_NEWSLETTER_POPUP'});localStorage.setItem('hasSeenNewsletter','true');},5000);// Show after 5 seconds\nreturn()=>clearTimeout(timer);}},[]);const login=userData=>{dispatch({type:'SET_USER',payload:userData});};const logout=()=>{dispatch({type:'LOGOUT'});};const showModal=function(type){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;dispatch({type:'SHOW_MODAL',payload:{type,data}});};const hideModal=()=>{dispatch({type:'HIDE_MODAL'});};const showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';dispatch({type:'SHOW_TOAST',payload:{message,type}});};const hideToast=()=>{dispatch({type:'HIDE_TOAST'});};const toggleMobileMenu=()=>{dispatch({type:'TOGGLE_MOBILE_MENU'});};const closeMobileMenu=()=>{dispatch({type:'CLOSE_MOBILE_MENU'});};const showNewsletterPopup=()=>{dispatch({type:'SHOW_NEWSLETTER_POPUP'});};const hideNewsletterPopup=()=>{dispatch({type:'HIDE_NEWSLETTER_POPUP'});};const resetAnimation=()=>{dispatch({type:'RESET_ANIMATION'});};const value=_objectSpread(_objectSpread({},state),{},{login,logout,showModal,hideModal,showToast,hideToast,toggleMobileMenu,closeMobileMenu,showNewsletterPopup,hideNewsletterPopup,resetAnimation});return/*#__PURE__*/_jsx(UserContext.Provider,{value:value,children:children});};export const useUser=()=>{const context=useContext(UserContext);if(!context){throw new Error('useUser must be used within a UserProvider');}return context;};","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsx","_jsx","UserContext","userReducer","state","action","type","_objectSpread","user","payload","isAuthenticated","modal","isOpen","data","toast","message","mobileMenu","newsletterPopup","animationReset","initialState","UserProvider","_ref","children","dispatch","hasSeenNewsletter","localStorage","getItem","timer","setTimeout","setItem","clearTimeout","login","userData","logout","showModal","arguments","length","undefined","hideModal","showToast","hideToast","toggleMobileMenu","closeMobileMenu","showNewsletterPopup","hideNewsletterPopup","resetAnimation","value","Provider","useUser","context","Error"],"sources":["C:/Users/brudr/Desktop/anon-ecommerce-website-master/CartLite-E-Commerce-WebSite/frontend/src/context/UserContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\n\nconst UserContext = createContext();\n\n// User reducer\nconst userReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_USER':\n      return {\n        ...state,\n        user: action.payload,\n        isAuthenticated: !!action.payload\n      };\n    case 'LOGOUT':\n      return {\n        ...state,\n        user: null,\n        isAuthenticated: false\n      };\n    case 'SHOW_MODAL':\n      return {\n        ...state,\n        modal: {\n          isOpen: true,\n          type: action.payload.type,\n          data: action.payload.data || null\n        }\n      };\n    case 'HIDE_MODAL':\n      return {\n        ...state,\n        modal: {\n          isOpen: false,\n          type: null,\n          data: null\n        }\n      };\n    case 'SHOW_TOAST':\n      return {\n        ...state,\n        toast: {\n          isOpen: true,\n          message: action.payload.message,\n          type: action.payload.type || 'info'\n        }\n      };\n    case 'HIDE_TOAST':\n      return {\n        ...state,\n        toast: {\n          isOpen: false,\n          message: '',\n          type: 'info'\n        }\n      };\n    case 'TOGGLE_MOBILE_MENU':\n      return {\n        ...state,\n        mobileMenu: {\n          isOpen: !state.mobileMenu.isOpen\n        }\n      };\n    case 'CLOSE_MOBILE_MENU':\n      return {\n        ...state,\n        mobileMenu: {\n          isOpen: false\n        }\n      };\n    case 'SHOW_NEWSLETTER_POPUP':\n      return {\n        ...state,\n        newsletterPopup: {\n          isOpen: true\n        },\n        animationReset: 0\n      };\n    case 'HIDE_NEWSLETTER_POPUP':\n      return {\n        ...state,\n        newsletterPopup: {\n          isOpen: false\n        }\n      };\n    case 'RESET_ANIMATION':\n      return {\n        ...state,\n        animationReset: state.animationReset + 1\n      };\n    default:\n      return state;\n  }\n};\n\n// Initial state\nconst initialState = {\n  user: null,\n  isAuthenticated: false,\n  modal: {\n    isOpen: false,\n    type: null,\n    data: null\n  },\n  toast: {\n    isOpen: false,\n    message: '',\n    type: 'info'\n  },\n  mobileMenu: {\n    isOpen: false\n  },\n  newsletterPopup: {\n    isOpen: false\n  },\n  animationReset: 0\n};\n\nexport const UserProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(userReducer, initialState);\n\n  // Check if newsletter has been shown before\n  useEffect(() => {\n    const hasSeenNewsletter = localStorage.getItem('hasSeenNewsletter');\n    if (!hasSeenNewsletter) {\n      // Show newsletter popup after a delay\n      const timer = setTimeout(() => {\n        dispatch({ type: 'SHOW_NEWSLETTER_POPUP' });\n        localStorage.setItem('hasSeenNewsletter', 'true');\n      }, 5000); // Show after 5 seconds\n\n      return () => clearTimeout(timer);\n    }\n  }, []);\n\n  const login = (userData) => {\n    dispatch({ type: 'SET_USER', payload: userData });\n  };\n\n  const logout = () => {\n    dispatch({ type: 'LOGOUT' });\n  };\n\n  const showModal = (type, data = null) => {\n    dispatch({ type: 'SHOW_MODAL', payload: { type, data } });\n  };\n\n  const hideModal = () => {\n    dispatch({ type: 'HIDE_MODAL' });\n  };\n\n  const showToast = (message, type = 'info') => {\n    dispatch({ type: 'SHOW_TOAST', payload: { message, type } });\n  };\n\n  const hideToast = () => {\n    dispatch({ type: 'HIDE_TOAST' });\n  };\n\n  const toggleMobileMenu = () => {\n    dispatch({ type: 'TOGGLE_MOBILE_MENU' });\n  };\n\n  const closeMobileMenu = () => {\n    dispatch({ type: 'CLOSE_MOBILE_MENU' });\n  };\n\n  const showNewsletterPopup = () => {\n    dispatch({ type: 'SHOW_NEWSLETTER_POPUP' });\n  };\n\n  const hideNewsletterPopup = () => {\n    dispatch({ type: 'HIDE_NEWSLETTER_POPUP' });\n  };\n\n  const resetAnimation = () => {\n    dispatch({ type: 'RESET_ANIMATION' });\n  };\n\n  const value = {\n    ...state,\n    login,\n    logout,\n    showModal,\n    hideModal,\n    showToast,\n    hideToast,\n    toggleMobileMenu,\n    closeMobileMenu,\n    showNewsletterPopup,\n    hideNewsletterPopup,\n    resetAnimation\n  };\n\n  return (\n    <UserContext.Provider value={value}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport const useUser = () => {\n  const context = useContext(UserContext);\n  if (!context) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}